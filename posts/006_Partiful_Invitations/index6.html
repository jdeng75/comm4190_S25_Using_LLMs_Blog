<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jenn Deng">
<meta name="dcterms.date" content="2024-02-17">
<meta name="description" content="You’re Invited!">

<title>Partiful Invitations – Jenn Deng’s Exploration with LLMs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5f857bdc012121c8fd95bcd1932be5a4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jenn Deng’s Exploration with LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Partiful Invitations</h1>
                  <div>
        <div class="description">
          You’re Invited!
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">prompting</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Jenn Deng </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 17, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="what-will-help-me-create-the-best-partiful-invitation-posters" class="level1">
<h1>What will help me create the best partiful invitation posters?</h1>
<p><img src="_.jpeg" width="100%"></p>
<p>I love hosting events at my house. And ever since the invention of Partiful, it’s been the most helpful thing when organizing gatherings and seeing who will come</p>
<p>However, I’m not a particularly creative person. I don’t really paint, I don’t really draw, the best thing I can do is knit….</p>
<p>This means I’m not the best at creating the best paritful invitations. Take for example.. this invitation I created for my going-away-study-abroad gathering</p>
<section id="jenns-london-going-away-study-abroad-celebration" class="level2">
<h2 class="anchored" data-anchor-id="jenns-london-going-away-study-abroad-celebration">Jenn’s London Going-Away-Study-Abroad-Celebration</h2>
<p><img src="Partiful.png" width="100%"></p>
<p>Hey! People did come! I had a lot of messages about how funny the poster was. But I think I could’ve done better.</p>
<p>I’m a very particular person though. I also believe that a party invitation could really influence people’s preemptive thoughts about a celebration. Take these other invitations for example:</p>
<p><img src="Lunar.png" width="100%"></p>
<p>Hand drawing one takes too long, looking for a specific one on pinterest makes my head hurt, so I was wondering if I could test out finding the perfect poster by prompting anthropic/claude-3.5-sonnet,gpt-4o, and deepseek-r1:1.5b. Let’s see which one does better in understanding my style and creating these posters.</p>
</section>
</section>
<section id="round-1-a-nice-dinner-invitation" class="level1">
<h1>Round 1 : A nice dinner invitation</h1>
<p>It’s my last semester here at Penn and I need to host more dinner invitations. I’ve been looking around pinterest and here are some nice themes and inspirtation that I’d like to copy for my partiful invitations.</p>
<div style="display: grid;grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));grid-gap: 1em;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="dinner1.jpeg" class="img-fluid figure-img" data-group="my-gallery"></p>
<figcaption>A Lovely Image</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="dinner2.jpeg" class="img-fluid figure-img" data-group="my-gallery"></p>
<figcaption>Another Lovely Image</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="dinner3.jpeg" class="img-fluid figure-img" data-group="my-gallery"></p>
<figcaption>The Last Lovely Image</figcaption>
</figure>
</div>
</div>
<p>Beautiful! Aren’t they! It would take me forever to search these on pinterest, so let me ask what this artistic style is to make it easier to search.</p>
<section id="prompt-what-is-this-artistic-style-called" class="level3">
<h3 class="anchored" data-anchor-id="prompt-what-is-this-artistic-style-called">Prompt: What is this artistic style called?</h3>
<p><strong>Claude</strong> : <br> This appears to be a line art or line drawing style, specifically done in a single color (red) on a light background. The illustration style is reminiscent of vintage or traditional etching or engraving techniques, though it’s rendered in a more loose, sketchy manner. The artwork has a delicate, elegant quality typical of what you might see in formal invitation designs or editorial illustrations. The style could also be described as minimalist or monochromatic illustration. The drawing technique appears to use continuous line work with varying line weights to create depth and detail, particularly in the candelabra and floral elements. This style is sometimes called “continuous line drawing” or “single line illustration” when done in this flowing, unbroken manner.</p>
<p><strong>gpt-4o</strong>: <br> The artistic style in the image is reminiscent of modern line art combined with minimalism. It features simplistic line drawings with a limited color palette, focusing on contour and form to convey the subject without intricate details. The style emphasizes elegance and clarity, often used for its aesthetic appeal in contemporary design.</p>
<p><strong>deepseek</strong>: <br> <em>Thought for 1 seconds</em> <br> Alright, the user is asking about an artistic style based on a provided image. But I don’t have access to images or external content. Hmm, that’s a bit tricky. Maybe they meant to describe a style rather than reference something specific? Or perhaps they forgot to include the image details.<br> I should respond in a way that encourages them to share more about what they’re referring to. That might help me identify it better. I’ll make sure to keep my response friendly and open, letting them know I’m here to help once they provide more information.<br> It seems like you mentioned an image but did not include the details or description of the artistic style you are referring to. Could you please describe the style or provide some key characteristics from the image? This will help me better understand what you’re asking about!</p>
<div class="warning" style="padding:0.1em; background-color:#E9D8FD; color:#69337A">
<span>
<p style="margin-top:1em; text-align:left">
<b>Jenn’s Thoughts </b>
</p>
<p style="margin-left:1em;">
For a very brief overview of the image, I think gpt-4o does a good job of keeping the description short and simple. However, it doesn’t do a good job of telling me what style the poster is in. <br> I think that claude does the best in terms of describing the poster, as well as telling me the name of the art style. The wording also sounds informal, as though it was a real life art critic. <br> Deepseek doesn’t do a good job, though, it explains the way that it interprets my question. It tells me that it doesn’t have access to images or external content, which is a big con.
</p>
<p></p>
<p></p>
</span></div>
</section>
</section>
<section id="round-2-creating-a-nice-dinner-invitation" class="level1">
<h1>Round 2: Creating a Nice Dinner Invitation</h1>
<p>I’m not sure if we’ll be able to get anything from Deepseek, but it’s looking pretty promising if we use Claude.</p>
<section id="prompt-ok-now-that-you-know-this-artistic-style-im-looking-for-help-in-creating-a-dinner-invitation.-please-create-an-image-similar-to-this-art-style-with-the-event-being-called-jenns-dinner-the-date-being-march-1st-and-the-time-being-800pm." class="level3">
<h3 class="anchored" data-anchor-id="prompt-ok-now-that-you-know-this-artistic-style-im-looking-for-help-in-creating-a-dinner-invitation.-please-create-an-image-similar-to-this-art-style-with-the-event-being-called-jenns-dinner-the-date-being-march-1st-and-the-time-being-800pm.">Prompt: Ok, now that you know this artistic style, I’m looking for help in creating a dinner invitation. Please create an image similar to this art style, with the event being called “Jenn’s Dinner”, the date being March 1st, and the time being 8:00pm.</h3>
<p><strong>Claude</strong> : I apologize, but I am not able to create, generate, edit, manipulate or produce images. I can only perceive and analyze images that are shared with me. <br> For creating your dinner invitation, I’d recommend: <br> 1. Working with a graphic designer who can create custom artwork in this style 2. Using design platforms like Canva or Adobe Creative Suite if you have design experience 3. Looking for similar templates on websites like Etsy or Creative Market 4. Working with a local stationery shop that offers custom invitation design services</p>
<p>The style you’re referencing - with its elegant line drawings in monochromatic red, featuring candelabras and florals - would make for a beautiful dinner invitation. But you’ll need to work with a human artist or designer to create it.</p>
<p><strong>gpt-4o</strong> : I can’t create or edit images directly, but I can guide you on how to create a similar invitation. 1. <strong>Software Selection</strong>: Use a graphic design tool like Adobe Illustrator, Canva, or even free alternatives like Inkscape. 2. <strong>Canvas Setup</strong>: Start with a blank canvas in a standard invitation size (e.g., 5x7 inches). 3. <strong>Background</strong>: Keep the background simple with a neutral color, like cream or light beige. 4. <strong>Line Art</strong>: Draw or insert elements like candles, plates, or floral designs using a maroon or deep red line. You can use vector line art graphics available online to speed up the process. 5. <strong>Text Setup</strong>: Use a classy serif font or a handwritten font for elegance. Place the event name at the top: “Jenn’s Dinner” Include the date below: “March 1st” Add the time: “8:00pm” 6. <strong>Layout</strong>: Arrange the text and line art elements cleanly and symmetrically, ensuring there’s ample white space for an uncluttered look. 7. <strong>Final Touches</strong>: Adjust elements for balance and harmony, and ensure all text is legible and prominent. Remember, simplicity is key to achieving a similar minimalist and elegant style.</p>
<strong>Deepseek</strong> :
<details type="reasoning" done="true" duration="3">
<summary>
Thought for 3 seconds
</summary>
<blockquote class="blockquote">
<p>Alright, so let me try to figure out how to approach this. The user previously asked about an artistic style, which I couldn’t access because they didn’t provide details. Now, after that, they want help creating a dinner invitation based on that style.</p>
<p>First, I need to understand what kind of artistic style they’re referring to. Since I don’t have the specifics from before, maybe they mentioned a particular style like vintage or op art. But since it’s not here, I’ll make an educated guess.</p>
<p>Vinegar and vinegar mixed colors with pink are often used in op art or retro styles, giving a nostalgic feel. So, combining elegant elements with vintage touches sounds plausible. They want the event called “Jenn’s Dinner” on March 1st at 8 PM, so it should be practical and timely.</p>
<p>I’ll structure the invitation to have a warm color scheme—maybe warm whites with some gold accents. Adding a romantic note like “from my mother’s side of the road” can tie into a vintage vibe. Using greenery and a vintage ribbon could give that vintage feel. Including notes for children, guests, and adults makes it inclusive. Ending with family photos adds a personal touch.</p>
<p>I should ensure the design is elegant yet approachable, making it easy for a modern guest to recognize. I’ll include some sample images and instructions in text to guide them on how to create it. Also, adding an image link will help visualize the style better.</p>
</blockquote>
</details>
<p>To create a dinner invitation that captures the artistic style associated with your query (which seems to be inspired by “vintage” or “op art”), here’s a design for “Jenn’s Dinner”:</p>
<hr>
<p><strong>[Image Title: Vintage Dinner Invitation with Op Art Details]</strong></p>
<p><strong>[A warm, elegant dinner invitation with a vintage twist.]</strong> - <strong>Event:</strong> Jenn’s Dinner<br>
- <strong>Date &amp; Time:</strong> March 1st, 8:00 PM<br>
- <strong>From my mother’s side of the road. I want to be remembered and cherished for years to come.</strong><br>
- <strong>This is your chance to tell your story in style.</strong></p>
<p><strong>[Design Elements:</strong> - Warm, golden-colored paper with gold leaf and greenery (like leaves or flowers). - A vintage ribbon or silver thread tied in a small bow. - A romantic message such as: “From my mother’s side of the road. I want to be remembered and cherished for years to come.” - Small family photos included at the bottom of each invitation. - A decorative element, like a vintage clock face on the dinner table.</p>
<hr>
<p><strong>[Instructions for Creating the Invitation]</strong></p>
<ol type="1">
<li>Create a warm, golden-colored paper using scissors or markers.</li>
<li>Add gold leaf to the back of the paper to give it that vintage, op art feel.</li>
<li>Attach greenery elements (leaves, flowers) to make the invitation look more elegant.</li>
<li>Add a vintage ribbon or silver thread tied in a small bow.</li>
<li>Write the date and time on a card or sticky note.</li>
<li>Include a small family photo or portrait at the bottom of each envelope.</li>
</ol>
<hr>
<p><strong>[Sample Images]</strong></p>
<ol type="1">
<li>A dinner invitation with a vintage ribbon attached to the center.</li>
<li>An elegant, op art-style design with golden leaves and greenery.</li>
<li>A vintage-mimic invitation that captures the essence of a modern dinner date.</li>
</ol>
<hr>
<p>This style combines elegance with a nostalgic touch, creating a timeless and romantic dinner invitation for “Jenn’s Dinner.”</p>
<div class="warning" style="padding:0.1em; background-color:#E9D8FD; color:#69337A">
<span>
<p style="margin-top:1em; text-align:left">
<b>Jenn’s Thoughts </b>
</p>
<p style="margin-left:1em;">
I’ve been having this issue where I can’t get the chats to produce images or posters. Though, even when describing how I should create the poster, it’s surprising to see that Deepseek does the best in guiding me. I wanted to see if I could fix the issue, so I went to my personal ChatGPT account and it was able to create an image for me after a few prompts. Here’s what happened.
</p>
<p></p>
<p></p>
</span></div>
</section>
</section>
<section id="round-2.5-jenns-personal-chatgpt-test" class="level1">
<h1>Round 2.5 : Jenn’s Personal ChatGPT Test</h1>
<blockquote class="blockquote">
<p>Jenn : Create a similar image please</p>
</blockquote>
<blockquote class="blockquote">
<p>ChatGPT-4o : <br> <img src="create1.png" width="100%"> <br> Here is your vintage-style dinner party invitation, featuring elegant hand-drawn illustrations of a candlelit dinner table with delicate floral decorations and fine dining elements. Let me know if you’d like any modifications!</p>
</blockquote>
<blockquote class="blockquote">
<p>Jenn : create it in a continuous line drawing style please</p>
</blockquote>
<blockquote class="blockquote">
<p>ChatGPT-4o : <img src="create2.png" width="100%"> <br> Here is your dinner party invitation in a continuous line drawing style. Let me know if you need any adjustments!</p>
</blockquote>
<div class="warning" style="padding:0.1em; background-color:#E9D8FD; color:#69337A">
<span>
<p style="margin-top:1em; text-align:left">
<b>Jenn’s Thoughts </b>
</p>
<p style="margin-left:1em;">
Mmmmm this looks good
</p>
<p></p>
<p></p>
</span></div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/jdeng75\.github\.io\/comm4190_S25_Using_LLMs_Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>